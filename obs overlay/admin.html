<!DOCTYPE html>
<html lang="ru">
<head>
<meta charset="UTF-8">
<style>
  body { font-family: Arial; padding: 20px; }
  input { width: 300px; }
</style>
</head>
<body>

<h2>–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –æ–≤–µ—Ä–ª–µ–µ–º</h2>

<input id="html" placeholder="HTML / —Å—Å—ã–ª–∫–∞ / —Ç–µ–∫—Å—Ç">
<button>–ü–æ–∫–∞–∑–∞—Ç—å</button>
<button id="clear">–û—á–∏—Å—Ç–∏—Ç—å</button>

<script type="module">
import { initializeApp } from "https://www.gstatic.com/firebasejs/10.7.1/firebase-app.js";
import { getDatabase, ref, set } from "https://www.gstatic.com/firebasejs/10.7.1/firebase-database.js";

const app = initializeApp({
  apiKey: "AIzaSyCptjj7G9sq9z2IFl39bz2WcG7qLC4-LOw",
  authDomain: "stream22-f8ec0.firebaseapp.com",
  databaseURL: "https://stream22-f8ec0-default-rtdb.firebaseio.com",
  projectId: "stream22-f8ec0"
});

const db = getDatabase(app);

// üëá –°–µ–∫—Ä–µ—Ç–Ω—ã–π ID (—Ç–æ—Ç –∂–µ, —á—Ç–æ –≤ overlay.html)
const SECRET_ID = "stream22_8f3kP9";
const overlayRef = ref(db, `overlay/${SECRET_ID}/content`);

// üëá –ü–ê–†–û–õ–¨ (–ø—Ä–∏–¥—É–º–∞–π —Å–≤–æ–π)
const PASSWORD = "123Lolipopggop!@";

// –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–∞—Ä–æ–ª—è
const entered = prompt("–í–≤–µ–¥–∏—Ç–µ –ø–∞—Ä–æ–ª—å:");

if (entered !== PASSWORD) {
  document.body.innerHTML = "–î–æ—Å—Ç—É–ø –∑–∞–ø—Ä–µ—â—ë–Ω";
  throw new Error("–ü–∞—Ä–æ–ª—å –Ω–µ–≤–µ—Ä–Ω—ã–π");
}

document.querySelector("button").onclick = () => {
  set(overlayRef, document.getElementById("html").value);
};

document.getElementById("clear").onclick = () => {
  set(overlayRef, "");
};
</script>

</body>
</html>
